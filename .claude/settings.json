{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/auto-format.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/auto-format.sh\" || true",
            "timeout": 30
          }
        ]
      }
    ],
    "SubagentStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/check-agent-economics.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/check-agent-economics.sh\" || true",
            "timeout": 10
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/suggest-context-edits.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/suggest-context-edits.sh\" || true",
            "timeout": 10
          }
        ]
      },
      {
        "matcher": "docs-researcher",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Evaluate the docs-researcher output as a ResearchPack quality gate. Check: (1) Was a specific library version identified? (2) Were at least 3 API endpoints or functions documented? (3) Are code examples present? (4) Are sources from official documentation? Score 0-100. If score < 80, output BLOCK with specific deficiencies. If >= 80, output PASS."
          }
        ]
      },
      {
        "matcher": "implementation-planner",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Evaluate the implementation-planner output as a Plan quality gate. Check: (1) Is a rollback procedure present? (2) Are all files to be modified listed? (3) Are steps sequenced with clear order? (4) Does the plan match the ResearchPack APIs (no hallucinated APIs)? (5) Is a risk assessment included? Score 0-100. If score < 85, output BLOCK with specific deficiencies. If >= 85, output PASS."
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/update-knowledge-core.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/update-knowledge-core.sh\" || true",
            "timeout": 30
          }
        ]
      }
    ],
    "TeammateIdle": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/teammate-idle.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/teammate-idle.sh\" || true",
            "timeout": 10
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/task-completed.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/task-completed.sh\" || true",
            "timeout": 15
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/pre-compact-backup.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/pre-compact-backup.sh\" || true",
            "timeout": 30
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/skill-extraction-reminder.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/skill-extraction-reminder.sh\" || true",
            "timeout": 5
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -f \"$CLAUDE_PROJECT_DIR/.claude/hooks/session-start.sh\" ] && bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/session-start.sh\" || true",
            "timeout": 15
          }
        ]
      }
    ]
  },
  "permissions": {
    "deny": [
      "Read(.env)",
      "Read(.env.*)",
      "Read(*credentials*)",
      "Read(*secret*)"
    ]
  },
  "enableAllProjectMcpServers": true
}
